{% extends "base.html" %}

{% block title %}
    PopDarts Game
{% endblock %}

{% block content %}
    <link rel="stylesheet" href='../static/round.css' />
    <body>
        <div class="scores-tally">
            <div class="round-bar">
                <div class="team blue-team">
                    <div class="team-name" id="name1">{{ player_name[1] }}</div>
                    <div class="b-score" id="blue-point">{{ player_score[1] }}</div>
                </div>

                <div class="team green-team">
                    <div class="team-name" id="name2">{{ player_name[0] }}</div>
                    <div class="g-score" id="green-point">{{ player_score[0] }}</div>
                </div>
            </div>
            <div class="games-bar">
                <!-- <h3 class="title-tag games-bar">Rounds</h3>
                <br> -->
                <div class="rounds blue-team">
                    <div id="b_rounds">{{ player_rounds[1] }}</div>
                </div>
                <div class="rounds green-team">
                    <div id="g_rounds">{{ player_rounds[0] }}</div>
                </div>
            </div>
        </div>
        <div class="page-frame">
            <div class="video-frame">
                <img src="{{url_for('video')}}" class="live-video">
                <div class="center-button">
                    <form id="submit_round" action = "/rounds" method="POST">
                        <input type="submit" value="End Round" name="click"> <!-- Capture image -->
                        <input type="hidden" name="name1" value="{{ player_name[1] }}">
                        <input type="hidden" name="name2" value="{{ player_name[0] }}">
                    </form>
                    <br>
                    <form id="next_round" action = "/procces" method="POST">
                        <input type="submit" value="Next Round" name="next">
                        <input type="hidden" name="name1" value="{{ player_name[1] }}">
                        <input type="hidden" name="name2" value="{{ player_name[0] }}">
                    </form>
                </div>
            </div>
            <div class="data-frame">
                <div class="averages">
                    <h3 class="heading">Status</h3>
                    <table class="match-average">
                        <thead>
                            <tr>
                                <th>Player</th>
                                <th>Match Average</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Name Test</td>
                                <td>Average</td>
                            </tr>
                            <tr>
                                <td>Name Test</td>
                                <td>Average</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="score-average">
                        <thead>
                            <tr>
                                <th>Player</th>
                                <th>Score Average</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Name Test</td>
                                <td>Average</td>
                            </tr>
                            <tr>
                                <td>Name Test</td>
                                <td>Average</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="graph">
                    <h3 class="heading">Graphs</h3>
                    <div id="chart-container">
                        <canvas id="myChart" ></canvas>
                    </div>
                </div>
                <div class="buttons-tab">
                    <button name="graph1-button" title="NULL">NULL</button>
                    <button name="graph2-button" title="NULL">NULL</button>
                    <button name="graph3-button" title="NULL">NULL</button>
                    <button name="graph4-button" title="NULL">NULL</button>
                </div>
            </div>
        </div>
    </body>
    <script>
        $( function() {
            
            $('button[name="graph1-button"]').click(function() {
                if (onChart){
                    onChart.destroy();
                }

            });
            $('button[name="graph2-button"]').click(function() {
                if (onChart){
                    onChart.destroy();
                }

            });
            $('button[name="graph3-button"]').click(function() {
                if (onChart){
                    onChart.destroy();
                }

            });
            $('button[name="graph4-button"]').click(function() {
                if (onChart){
                    onChart.destroy();
                }
                
            });
        });
    </script>
{% endblock %}